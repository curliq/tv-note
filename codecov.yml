codecov:
  require_ci_to_pass: yes
  branch: main # set new Default branch
  status:
    project:
      default:
        target: auto
        threshold: 1%
    patch:
      default:
        target: 90%

  flags:
    server:
      paths:
        - server/src
      carryforward: true
    compose:
      paths:
        - composeApp/src
      carryforward: true

  flag_management:
    default_rules:
      carryforward: true
    individual_flags:
      - name: server
        paths:
          - server/src
        carryforward: true
        statuses:
          - type: project
            target: 1%
          - type: patch
            target: 100%
      - name: compose
        paths:
          - composeApp/src
        carryforward: true
        statuses:
          - type: project
            target: 1%
          - type: patch
            target: 100%
